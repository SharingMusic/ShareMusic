
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
      <title>내 컬렉션 추가</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet"/>
    <link href="fontAwesome/css/all.css" rel="stylesheet" type="text/css" />
    <link href="css/addcoll1.css" rel="stylesheet" type="text/css" />
    
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script lang="JavaScrpit" src="js/addcoll1.js" type="text/javascrpit"></script>

</head>


<script> 
  //이미지 파일 등록

  function previewImage(targetObj, View_area) {
	var preview = document.getElementById(View_area); //div id
	var ua = window.navigator.userAgent;

  var files = targetObj.files; //나중에 DB에 저장
	for ( var i = 0; i < files.length; i++) {
		var file = files[i];
		var imageType = /image.*/; //이미지 파일일경우만 뿌려준다.
		if (!file.type.match(imageType))
      continue;
    

    //미리보기 생성 전 이미지 틀 삭제
    var defaultImg = document.getElementById("preimg");
    if(defaultImg){
      preview.removeChild(defaultImg);
    }

    var prevImg = document.getElementById("prev_" + View_area); //이전에 미리보기가 있다면 삭제

		if (prevImg) {
       preview.removeChild(prevImg);
    }
      
    //var img = document.getElementById("preimg");
    var img = document.createElement("img"); //img 태그 생성
  
		img.id = "prev_" + View_area;
    img.classList.add("obj");
    img.style.width="17em";
    img.style.height="17em";
    img.file = file;
    preview.appendChild(img);
    


		if (window.FileReader) { 
			var reader = new FileReader();
			reader.onloadend = (function(aImg) {
				return function(e) {
					aImg.src = e.target.result;
				};
			})(img);
			reader.readAsDataURL(file);
		} else { 
			if (!document.getElementById("sfr_preview_error_"+ View_area)) {
				var info = document.createElement("p");
				info.id = "sfr_preview_error_" + View_area;
				info.innerHTML = "not supported FileReader";
				preview.insertBefore(info, null);
			}
		}
	}
}
</script>


<body>


  <h1 class="titlename">Add Collection</h1>
  <div class="info">Input your Image path and Collection Name </div>

  <br>
  <br>

  <div class="container row">

    <div class="leftView col-sm-1"></div>
    <!--이미지 미리보기-->
    <div class="input-body col-sm-10">
      <div id='View_area' style="display: inline-block;"> 
        <img id="preimg" />
      </div>
      
     <!-- 이미지 파일 업로드 / 컬렉션 네이밍-->
      <div class="filebox bs3-primary preview-image" style="display: inline-block;">
        <input id="filename-up" class="upload-name" value="image path" disabled="disabled" style="width: 15em;">
        <label for="input_file">Upload</label> 
        <input type="file" onchange="previewImage(this,'View_area')" id="input_file" class="upload-hidden"> 
       
        <!--컬렉션 이름 저장해야...-->
        <input type="text" class="form-control" placeholder="Collceion Name" name="text1">
       </div>
  
    </div>
    <div class="rightView col-sm-1">

      <button type="submit" class="btn btn-link" style="height: 17em;">
        <i class="fas fa-caret-right" style="font-size: 3em;"></i>
      </button>
  

    </div>
    
  </div>



</body>
</html>
